# å‰ç¼€å’Œ
å‰ç¼€å’Œå¤šç”¨åœ¨å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œå¤šæ¬¡æ“ä½œçš„æ—¶å€™
> æ³¨æ„ï¼Œåœ¨æŸ¥è¯¢æ—¶ï¼Œå·¦ä¸‹æ ‡å‡1,å³ä¸‹æ ‡ä¸å˜ï¼

## **1. å®šä¹‰**

ç»™ä¸€ä¸ªæ•°ç»„ `a[1..n]`
å‰ç¼€å’Œæ•°ç»„å®šä¹‰ä¸ºï¼š

```
s[0] = 0
s[i] = s[i-1] + a[i]
```

è¿™æ ·å¯ä»¥åšåˆ°ï¼š

```
åŒºé—´å’Œ [l, r] = s[r] - s[l-1]
```

---

# ğŸ“Œ **æ ‡å‡†æ¨¡æ¿å†™æ³•ï¼ˆä¼ªä»£ç ï¼‰**

### ğŸ”¹**æ„å»ºå‰ç¼€å’Œ**

```
s[0] = 0
for i = 1..n:
    s[i] = s[i-1] + a[i]
```

### ğŸ”¹**æŸ¥è¯¢åŒºé—´å’Œ [l, r]**

```
sum(l, r) = s[r] - s[l-1]
```

---

# ğŸ¦€ Rust ç‰ˆæœ¬ï¼ˆæœ€å¸¸ç”¨æ¨¡æ¿ï¼‰

```rust
let n = a.len();
let mut s = vec![0i64; n + 1];

for i in 0..n {
    s[i + 1] = s[i] + a[i];
}

// æŸ¥è¯¢ [l, r] (1-based)
let sum = s[r] - s[l - 1];
```

Rust ä¸­å‰ç¼€å’ŒåŸºæœ¬å°±æ˜¯è¿™æ ·å†™ï¼Œä¸ä¼šå˜ã€‚

---

# ğŸ’» C++ ç‰ˆæœ¬

```cpp
vector<long long> s(n + 1, 0);
for (int i = 1; i <= n; i++) {
    s[i] = s[i-1] + a[i];
}

long long sum = s[r] - s[l-1];
```

---

# â˜• Java ç‰ˆæœ¬

```java
long[] s = new long[n + 1];
for (int i = 1; i <= n; i++) {
    s[i] = s[i - 1] + a[i];
}

long sum = s[r] - s[l - 1];
```

---

# ğŸ“˜ äºŒç»´å‰ç¼€å’Œï¼ˆ2D Prefix Sumï¼‰

äºŒç»´çŸ©é˜µ `a[i][j]`ï¼š

```
s[i][j] = a[i][j]
        + s[i-1][j]
        + s[i][j-1]
        - s[i-1][j-1]
```

æŸ¥è¯¢çŸ©å½¢ `(x1,y1) ~ (x2,y2)`ï¼š

```
sum = s[x2][y2]
    - s[x1-1][y2]
    - s[x2][y1-1]
    + s[x1-1][y1-1]
```

å¦‚æœä½ éœ€è¦ï¼Œæˆ‘å¯ä»¥ç»™ä½  Rust/C++/Java çš„äºŒç»´ç‰ˆæœ¬ã€‚

---

# â— å‰ç¼€å’Œä½¿ç”¨æ³¨æ„äº‹é¡¹

* **å¿…é¡» 1-based å»º s æ•°ç»„** â†’ `s[0]=0`
  å¦åˆ™ `l=0` æ—¶ä¸å¥½å¤„ç†
* **æŸ¥è¯¢å¿…é¡»ä½¿ç”¨ s[r] - s[l-1]**
* **é€‚ç”¨äºæ±‚å’Œï¼Œä¸é€‚ç”¨äº max/min**

2025å¹´ 11æœˆ 23æ—¥ æ˜ŸæœŸæ—¥ 12:30:25 CST
